# 4.9.8 字符串和数组的扩展方法


## 字符串
- contains
```
function contains(target, it) {
  return target.indexOf(it) != -1;
}
```

- startsWith

```
function startsWith(target, str, ignorecase) {
  var start_str = target.substr(0, str.length)
  return ignorecase ? start_str.toLocaleLowerCase === str.toLocaleLowerCase : start_str === str;
}
```

- endsWith

```
function startsWith(target, str, ignorecase) {
  var end_str = target.substring(target.length - str.length)
  return ignorecase ? end_str.toLocaleLowerCase === str.toLocaleLowerCase : end_str === str;
}
```
- repeat

```
// 1.
function repeat(target, n) {
  return (new Array(n+1).join(target));
}

// 2.
function repeat(target, n) {
  return Array.prototype.join.call({length : n+1},target);
}
```

- byteLen: 取得一个字符串所有字节的长度；

```
function byteLen(target) {
  var length = target.length, i =0;
  for(; i < target.length; i++) {
    if(target.charCodeAt(i) > 255) {
      length++;
    }
  }
  return length;
}
```

- escapeHTML: 防止XSS攻击，转义字符串


```
function escapeHTML(target){
  return target.replace(/&/g, '&amp')
  .replace(/</g, '&lt;')
  .replace(/>/g , '&gt;')
  .replace(/"/g, '&quot;')
  .repalce(/'/g, '&#39;');
}
```

- unescapeHTML: 将字符串中的html实体字符还原成对应字符

```
function unescapeHTML(target){
  return String(target)
  .replace(/&#39;/g, '\'')
  .replace(/&quot;/g, '"')
  .replace(/&lt;/g , '<')
  .replace(/&gt;/g, '>')
  .repalce(/&amp;/g, '&');
}
```

- trim: 去空白

```
// 1.
function trim(str) {
  return str.replace(/^\s\s*/, '').replace(/\s\s*$/, '');
}

// 2.
function trim(str) {
  return str.replace(/\s+/g,'');
}
```

- truncate: 对字符串进行截断处理，但超过限定长度，默认3个点号；

```
function truncate(target, length, truncation) {
  var length = length || 30;
  var truncation = truncation === void(0) ? '...' : truncation;
  return target.length >length ? target.slice(0, length - truncation.length) + truncation : String(target)
}
```

- camelize: 转换驼峰风格

```
function camelize(target) {
  if(target.indexOf('-') < 0 && target.indexOf('_') < 0) {
    return target;
  }
  return target.replace( /[-_][^-_]/g,function (match){
    return match.charAt(1).toUpperCase();
  })
}
```
- underscored : 转换下划线风格；
```
function underscored(target) {
  return target.replace(/([a-z\d])([A-Z])/g, '$1_$2').replace(/\-/g, '_').toLowerCase();
}
```

- dasherLize: 转换连字符

```
function dasherLize(target) {
  return target.replace(/_/g, '-')
}
```

- stripTags: 移除字符串中的 html 标签

```
function stripTags(target) {
  var rtag = /<\w+(\s+("[^"]*"|'[^']*'|[^>])+)?<|<\w+>/gi
  return String(target || "").replace(rtag, '');
}
```

- stripScripts : 移除 script 标签

```
function stripScripts(target) {
  return String(target || "").replace(/<script [^>]*>([\S\s]*?)</script>/img, '');
}
```

## 数组


- contains: 判定数组包含指定目标


- removeAt:
